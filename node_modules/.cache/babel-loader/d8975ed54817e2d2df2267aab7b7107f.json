{"ast":null,"code":"import Piece from './piece.js';\nexport default class Pawn extends Piece {\n  constructor(player) {\n    super(player, player === 1 ? \"https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg\");\n    this.initialPositions = {\n      1: [48, 49, 50, 51, 52, 53, 54, 55],\n      2: [8, 9, 10, 11, 12, 13, 14, 15]\n    };\n    this.name = \"Pawn\";\n  }\n\n  isMovePossible(src, dest, isDestEnemyOccupied, enpassant, enpassantPosition) {\n    if (this.player === 1) {\n      if (dest === src - 8 && !isDestEnemyOccupied || dest === src - 16 && this.initialPositions[1].indexOf(src) !== -1 && !isDestEnemyOccupied) {\n        return true;\n      } else if (isDestEnemyOccupied && (dest === src - 9 || dest === src - 7)) {\n        return true;\n      } else if (enpassant && !isDestEnemyOccupied && enpassantPosition - 8 === dest) {\n        return true;\n      }\n    } else if (this.player === 2) {\n      if (dest === src + 8 && !isDestEnemyOccupied || dest === src + 16 && this.initialPositions[2].indexOf(src) !== -1 && !isDestEnemyOccupied) {\n        return true;\n      } else if (isDestEnemyOccupied && (dest === src + 9 || dest === src + 7)) {\n        return true;\n      } else if (enpassant && !isDestEnemyOccupied && enpassantPosition + 8 === dest) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  possibleMoves(src, squares) {\n    const highLightMoves = [];\n\n    if (this.player === 1) {\n      if (this.initialPositions[this.player].indexOf(src) !== -1) {\n        if (squares[src - 8] === null) {\n          highLightMoves.push(src - 8);\n        } else if (squares[src - 16] === null) {\n          highLightMoves.push(src - 16);\n        }\n\n        if (squares[src - 9] !== null) {\n          highLightMoves.push(src - 9);\n        }\n\n        if (squares[src - 7] !== null) {\n          highLightMoves.push(src - 7);\n        }\n      }\n    }\n\n    console.log(highLightMoves);\n    return highLightMoves;\n  }\n  /**\n   * returns array of one if pawn moves two steps, else returns empty array  \n   * @param  {[type]} src  [description]\n   * @param  {[type]} dest [description]\n   * @return {[type]}      [description]\n   */\n\n\n  getSrcToDestPath(src, dest) {\n    if (dest === src - 16) {\n      return [src - 8];\n    } else if (dest === src + 16) {\n      return [src + 8];\n    }\n\n    return [];\n  }\n\n}","map":{"version":3,"sources":["/Users/terry/UUBC/React/Chess/src/pieces/pawn.js"],"names":["Piece","Pawn","constructor","player","initialPositions","name","isMovePossible","src","dest","isDestEnemyOccupied","enpassant","enpassantPosition","indexOf","possibleMoves","squares","highLightMoves","push","console","log","getSrcToDestPath"],"mappings":"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","sourcesContent":["import Piece from './piece.js';\n\nexport default class Pawn extends Piece {\n    constructor(player) {\n        super(player, (player === 1 ? \"https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg\"));\n        this.initialPositions = {\n            1: [48, 49, 50, 51, 52, 53, 54, 55],\n            2: [8, 9, 10, 11, 12, 13, 14, 15]\n        }\n        this.name = \"Pawn\"\n    }\n\n    isMovePossible(src, dest, isDestEnemyOccupied, enpassant, enpassantPosition) {\n        if (this.player === 1) {\n            if ((dest === src - 8 && !isDestEnemyOccupied) || (dest === src - 16 && this.initialPositions[1].indexOf(src) !== -1 && !isDestEnemyOccupied)) {\n                return true;\n            }\n            else if (isDestEnemyOccupied && (dest === src - 9 || dest === src - 7)) {\n                return true;\n            }\n            else if (enpassant && !isDestEnemyOccupied && enpassantPosition - 8 === dest) {\n                return true;\n            }\n        }\n        else if (this.player === 2) {\n            if ((dest === src + 8 && !isDestEnemyOccupied) || (dest === src + 16 && this.initialPositions[2].indexOf(src) !== -1 && !isDestEnemyOccupied)) {\n                return true;\n            }\n            else if (isDestEnemyOccupied && (dest === src + 9 || dest === src + 7)) {\n                return true;\n            }\n            else if (enpassant && !isDestEnemyOccupied && enpassantPosition + 8 === dest) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    possibleMoves(src, squares) {\n        const highLightMoves = [];\n        if (this.player === 1) {\n            if (this.initialPositions[this.player].indexOf(src) !== -1) {\n                if (squares[src - 8] === null) {\n                    highLightMoves.push((src - 8));\n                } else if (squares[src - 16] === null) {\n                    highLightMoves.push((src - 16));\n                }\n                if (squares[src - 9] !== null) {\n                    highLightMoves.push((src - 9));\n                }\n                if (squares[src - 7] !== null) {\n                    highLightMoves.push((src - 7));\n                }\n            }\n        }\n        console.log(highLightMoves)\n        return highLightMoves;\n    }\n\n    /**\n     * returns array of one if pawn moves two steps, else returns empty array  \n     * @param  {[type]} src  [description]\n     * @param  {[type]} dest [description]\n     * @return {[type]}      [description]\n     */\n    getSrcToDestPath(src, dest) {\n        if (dest === src - 16) {\n            return [src - 8];\n        }\n        else if (dest === src + 16) {\n            return [src + 8];\n        }\n        return [];\n    }\n}"]},"metadata":{},"sourceType":"module"}